<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Performance of ScenTrees.jl · ScenTrees.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ScenTrees.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">ScenTrees.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorial1/">Introduction</a></li><li><a class="tocitem" href="../tutorial2/">Scenario Trees</a></li><li><a class="tocitem" href="../tutorial3/">Scenario Lattices</a></li><li><a class="tocitem" href="../tutorial31/">Stochastic processes</a></li><li><a class="tocitem" href="../tutorial4/">Stochastic approximation process</a></li><li><a class="tocitem" href="../tutorial41/">Kernel Density Estimation</a></li><li class="is-active"><a class="tocitem" href>Performance of <code>ScenTrees.jl</code></a><ul class="internal"><li><a class="tocitem" href="#Computational-time-for-trees-of-different-heights-1"><span>Computational time for trees of different heights</span></a></li><li><a class="tocitem" href="#Comparison-with-implementation-in-MATLAB-1"><span>Comparison with implementation in MATLAB</span></a></li><li><a class="tocitem" href="#Development-and-Testing-1"><span>Development and Testing</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Performance of <code>ScenTrees.jl</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Performance of <code>ScenTrees.jl</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kirui93/ScenTrees.jl/blob/master/docs/src/tutorial/tutorial5.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Performance-of-ScenTrees.jl-1"><a class="docs-heading-anchor" href="#Performance-of-ScenTrees.jl-1">Performance of <code>ScenTrees.jl</code></a><a class="docs-heading-anchor-permalink" href="#Performance-of-ScenTrees.jl-1" title="Permalink"></a></h1><p><code>ScenTrees.jl</code> was built with a goal of employing the speed of Julia. This package&#39;s design allows us to obtain a fast code with high flexibility and excellent computational efficiency. The design choices are highly motivated by the properties of the Julia language.</p><p>The most important concept in Julia is multiple dispatch i.e., the ability to dispatch function calls to different methods depending on the type of all function arguments. Julia arrays are first class objects and linear algebra functions have been integrated into the language standard library hence making it easier for the development of this library.</p><h2 id="Computational-time-for-trees-of-different-heights-1"><a class="docs-heading-anchor" href="#Computational-time-for-trees-of-different-heights-1">Computational time for trees of different heights</a><a class="docs-heading-anchor-permalink" href="#Computational-time-for-trees-of-different-heights-1" title="Permalink"></a></h2><p>It is important to note that a scenario tree converges in probability for more and more samples that you generated to improve the tree, i.e., if you perform more iterations then you will get a scenario tree that has a better approximation quality than when you perform less iterations.</p><p>One other thing that comes into play for the approximation quality of the scenario tree is the bushiness of the tree. It turns out that having a bushy branching structure produces a scenario tree that has a better approximation quality than a tree with less bushy branching structure. Also, the height of the tree plays a big role on the approximation quality of the scenario tree. Higher trees have a better approximation quality than shorter trees. If we combine these two factors (bushiness and height of the tree), we get a tree which has the best approximation quality of the stochastic process in consideration. The multistage distance converges to <span>$0$</span> as the bushiness of the scenario tree increases. The convergence of the multistage distance holds in probability.</p><p>The table below shows the multistage distance of trees of different heights with an increasing branching structure:</p><table><tr><th style="text-align: right">Branches</th><th style="text-align: right">Height = 1</th><th style="text-align: right">Height = 2</th><th style="text-align: right">Height = 3</th><th style="text-align: right">Height = 4</th></tr><tr><td style="text-align: right">3</td><td style="text-align: right">0.24866</td><td style="text-align: right">0.2177</td><td style="text-align: right">0.16245</td><td style="text-align: right">0.11346</td></tr><tr><td style="text-align: right">4</td><td style="text-align: right">0.16805</td><td style="text-align: right">0.12861</td><td style="text-align: right">0.08451</td><td style="text-align: right">0.05236</td></tr><tr><td style="text-align: right">5</td><td style="text-align: right">0.12333</td><td style="text-align: right">0.08559</td><td style="text-align: right">0.05073</td><td style="text-align: right">0.0289</td></tr><tr><td style="text-align: right">6</td><td style="text-align: right">0.09561</td><td style="text-align: right">0.06042</td><td style="text-align: right">0.03345</td><td style="text-align: right">0.01913</td></tr><tr><td style="text-align: right">7</td><td style="text-align: right">0.07752</td><td style="text-align: right">0.04562</td><td style="text-align: right">0.02333</td><td style="text-align: right">0.01188</td></tr><tr><td style="text-align: right">8</td><td style="text-align: right">0.06401</td><td style="text-align: right">0.03547</td><td style="text-align: right">0.01711</td><td style="text-align: right">0.00855</td></tr></table><p>The above table can be represented in a plot as follows:</p><p><img src="../../assets/diffHeights.png" alt="Multistage distance for trees of different heights"/></p><p>The above plot can be obtained by calling the function <code>bushinessNesDistance()</code> from the package.</p><p>Generally, the approximating quality of a scenario tree increases with increasing height of the tree and increasing bushiness of the tree.</p><h2 id="Comparison-with-implementation-in-MATLAB-1"><a class="docs-heading-anchor" href="#Comparison-with-implementation-in-MATLAB-1">Comparison with implementation in MATLAB</a><a class="docs-heading-anchor-permalink" href="#Comparison-with-implementation-in-MATLAB-1" title="Permalink"></a></h2><p>In order to see how fast Julia is, we compared the run-time performance of different trees with different heights with the same algorithm written in MATLAB programming language. We run the same trees and saved the time it takes to produce results. The following table shows the results (N/B: The time shown is in seconds):</p><table><tr><th style="text-align: right">Tree</th><th style="text-align: right">Number of Iterations</th><th style="text-align: right">Run-time (Julia)</th><th style="text-align: right">Run-time (MATLAB)</th><th style="text-align: right">Speed of Julia</th></tr><tr><td style="text-align: right">1x2x2</td><td style="text-align: right">10,000</td><td style="text-align: right">0.17</td><td style="text-align: right">6.75</td><td style="text-align: right">38.9 times</td></tr><tr><td style="text-align: right">1x2x2x2</td><td style="text-align: right">10,000</td><td style="text-align: right">0.16</td><td style="text-align: right">9.74</td><td style="text-align: right">59.8 times</td></tr><tr><td style="text-align: right">1x2x2x2</td><td style="text-align: right">100,000</td><td style="text-align: right">1.77</td><td style="text-align: right">111.73</td><td style="text-align: right">63.1 times</td></tr><tr><td style="text-align: right">1x2x4x8</td><td style="text-align: right">100,000</td><td style="text-align: right">2.31</td><td style="text-align: right">184.11</td><td style="text-align: right">79.7 times</td></tr><tr><td style="text-align: right">1x2x3x4x5</td><td style="text-align: right">1,000,000</td><td style="text-align: right">23.15</td><td style="text-align: right">1955.66</td><td style="text-align: right">84.5 times</td></tr><tr><td style="text-align: right">1x3x3x3x2</td><td style="text-align: right">1,000,000</td><td style="text-align: right">20.12</td><td style="text-align: right">1652.92</td><td style="text-align: right">82.2 times</td></tr><tr><td style="text-align: right">1x3x3x3x3</td><td style="text-align: right">1,000,000</td><td style="text-align: right">21.44</td><td style="text-align: right">1752.40</td><td style="text-align: right">81.7 times</td></tr><tr><td style="text-align: right">1x10x5x2</td><td style="text-align: right">1,000,000</td><td style="text-align: right">23.96</td><td style="text-align: right">2046.88</td><td style="text-align: right">85.4 times</td></tr><tr><td style="text-align: right">1x3x4x4x2x2</td><td style="text-align: right">1,000,000</td><td style="text-align: right">27.36</td><td style="text-align: right">2211.54</td><td style="text-align: right">80.8 times</td></tr></table><p>What is clear is that <code>ScenTrees.jl</code> library outperforms MATLAB for all the scenario trees. Also, it is important to see that <code>ScenTrees.jl</code> performs pretty faster for scenario trees which are bushy and has different heights.</p><p>The crucial factor that leads to such high speed of computation in Julia is:</p><ul><li>Julia is a multiple dispatch language. Its core design, <em>type-stability through specialization via multiple dispatch</em> is what allows Julia to be very easy for a compiler to make into efficient code, but also allows the code to be very concise and &quot;look like a scripting language&quot;. This will lead to some very clear performance gain. Type stability is the idea that there is only one possible type that can be outputted from a method. If a function is type-stable, then the compiler can know what type will be at all points in the function and smartly optimize it to the same assembly as C/Fortran.</li></ul><p>Our library totally relies on the above feature. That is why we were able to attain a speed of approximately 80 times than MATLAB.</p><h2 id="Development-and-Testing-1"><a class="docs-heading-anchor" href="#Development-and-Testing-1">Development and Testing</a><a class="docs-heading-anchor-permalink" href="#Development-and-Testing-1" title="Permalink"></a></h2><p><code>ScenTrees.jl</code> was developed in Julia 1.0.4 and tested using the standard Julia framework. It was tested for Julia versions 1.0,1.1,1.2 and nightly for the latest release of Julia in Linux and OSX distributions.</p><p>The comparison done for this library in Julia 1.0.4 and MATLAB R2019a was done on Linux(x86_64-pc-Linux-gnu) with CPU(TM) i5-4670 CPU @ 3.40GHz.</p><p>What is more important for testing and development is the processor speed for your machine. Machines with low processors will take longer time to execute the functions than machines with high processors. Hence, depending on the type of processor you have, you may or may not or even pass the computational speed that we achieved for this library.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>This library is actively developed and new features and improvements are constantly and continuously added. So, before using it, make it an habit to update your packages.</p></div></div><p>This ends our tutorials for using <code>ScenTrees.jl</code>. You are now ready to generate scenario trees and scenario lattices depending on what you want to approximate.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial41/">« Kernel Density Estimation</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 22 November 2019 15:41">Friday 22 November 2019</span>. Using Julia version 1.1.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
